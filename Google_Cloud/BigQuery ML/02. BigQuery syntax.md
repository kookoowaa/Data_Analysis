## BigQuery Syntax

###  With and multiple table

- 아래와 같이 `WITH`문으로 테이블(Single value)을 정의
- `WITH`로 정의된 테이블을 `FROM` 절에서 COMMA로 구분하여 호출, 테이블 계산을 수행

```sql
#standardSQL
WITH 

visitors AS(
SELECT
COUNT(DISTINCT fullVisitorId) AS total_visitors
FROM `data-to-insights.ecommerce.web_analytics`
),

purchasers AS(
SELECT
COUNT(DISTINCT fullVisitorId) AS total_purchasers
FROM `data-to-insights.ecommerce.web_analytics`
WHERE totals.transactions IS NOT NULL
)

SELECT
  total_visitors,
  total_purchasers,
  total_purchasers / total_visitors AS conversion_rate
FROM visitors, purchasers
```

